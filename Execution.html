<!DOCTYPE html SYSTEM "about:legacy-compat">
<html>
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>brainslug — Execution</title>
        
        <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/blueprint/grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print"/> 
        <!--[if lt IE 8]>
          <link rel="stylesheet" href={ relativeBase + "css/blueprint/ie.css" } type="text/css" media="screen, projection"/>
        <![endif]-->
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_2em_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
        <script type="text/javascript" src="js/jquery.collapse.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/color_scheme-brainslug.css" type="text/css" media="screen, projection"/>
        
        <script type="text/javascript">
              Pamflet.twitter = '#brainslug';
            </script>
      </head>
      <body class="color_scheme-brainslug">
        <a class="page prev nav" href="index.html">
            <span class="space">&nbsp;</span>
            <span class="flip arrow">❧</span>
          </a><a class="page next nav" href="BPMN.html">
            <span class="space">&nbsp;</span>
            <span class="arrow">❧</span>
          </a>
        <div class="container contentswrapper">
          <div class="span-16 prepend-1 append-1 contents">
            <h1 id="Execution">Execution<a href="#Execution" class="header-link"><span class="header-link-content">&nbsp;</span></a></h1><h2 id="Flow+Definition">Flow Definition<a href="#Flow+Definition" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A flow definition is a directed graph of typed flow nodes. brainslug provides a set of predefined node types
which are interpreted by the execution module. Generally its up to the user to define the meaning of the graph,
but its common to see it as the definition of possible paths / sequence of actions for a desired outcome, e.g.
the steps to prepare a sandwich, or a ordering process.
</p><p>See the <a href="https://github.com/adrobisch/brainslug/blob/master/model/src/test/java/brainslug/flow/builder/FlowBuilderTest.java">FlowBuilderTest</a> class
for examples on how to build flow definitions.
</p><h2 id="Flow+Instance">Flow Instance<a href="#Flow+Instance" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A flow instance is a single execution of a given flow definition. Depending on the brainslug configuration and flow definition
an instance might be a persistent and long running, or just be executed in-memory.
</p><h2 id="Flow+Token">Flow Token<a href="#Flow+Token" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A flow token is a pointer to a flow node in a flow instance. A flow node might have multiple tokens.
The token includes the information it came from. A flow node needs the correct amount of tokens to be ready
for execution and will produce a defined amount of new flow node after execution.
</p><h1 id="Token+Semantics">Token Semantics<a href="#Token+Semantics" class="header-link"><span class="header-link-content">&nbsp;</span></a></h1><h2 id="Task+Node">Task Node<a href="#Task+Node" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A Task Node will be executed for every incoming token and produces one token per outgoing edge.
</p><h2 id="Event+Node">Event Node<a href="#Event+Node" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>An Event Node is triggered by every incoming token and produces one token per outgoing edge.
</p><h2 id="Choice+Node">Choice Node<a href="#Choice+Node" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A Choice Node will be executed for every incoming token. A token is produced for the first outgoing path
where the predicate is fullfilled.
</p><h2 id="Merge+Node">Merge Node<a href="#Merge+Node" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A Merge Node will be executed for every incoming token. A token is produced for every outgoing edge.
</p><h2 id="Parallel+Node">Parallel Node<a href="#Parallel+Node" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A Parallel Node will be executed for every incoming token. A token is produced for every outgoing edge.
</p><h2 id="Join+Node">Join Node<a href="#Join+Node" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>A Parallel Node will only be executed if it has tokens from every incoming edge.
A token is produced for every outgoing edge.
</p><h1 id="Integration+with+your+code">Integration with your code<a href="#Integration+with+your+code" class="header-link"><span class="header-link-content">&nbsp;</span></a></h1><p>In order to connect you code with a brainslug flow definition you may use method call definition:
</p><pre><code class="prettyprint lang-java">    new FlowBuilder() {
      @Override
      public void define() {
        start(event(id(START)))
        .execute(task(id(TASK))
          .call(service(TestService.class).method(&quot;getString&quot;)))
        .end(event(id(END)));
      }
    }
</code></pre><p>or a delegate class:
</p><pre><code class="prettyprint lang-java">    class Delegate {
      @Execute
      public void execute(ExecutionContext context) {
      ...
      }
    }
    ...
    context.getRegistry().registerService(Delegate.class, new Delegate());
    ...
    new FlowBuilder() {
      @Override
      public void define() {
        start(event(id(START)))
          .execute(task(id(TASK)).delegate(Delegate.class)))
        .end(event(id(END)));
      }
    }
</code></pre><div class="bottom nav span-16">
                        <em>Next Page</em>
                        <span class="arrow">❧</span>
                        <a href="BPMN.html"> BPMN </a>                        
                        
                      </div><div class="tocwrapper show">
      <a class="tochead nav" style="display: none" href="#toc">❦</a>
      <a name="toc"></a>
      <h4 class="toctitle">Contents</h4>
      <div class="tocbody">
      <div><a href="index.html">brainslug</a></div><ol class="toc"> <li><div class="current">Execution</div></li><li><div><a href="BPMN.html">BPMN</a></div></li><li><div><a href="Philosophy.html">Philosophy</a></div></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div></div>
          </div>
        </div>
        <div class="header">
          <div class="container">
        <div class="span-16 prepend-1 append-1">
          <div class="span-16 top nav">
            <div class="span-16 title">
              <span>brainslug</span> — Execution
            </div>
          </div>
        </div>
      </div>
        </div>
        <div class="footer">
          
        </div>
        <a href="http://github.com/adrobisch/brainslug" class="fork nav"><img src="img/fork.png" alt="Fork me on GitHub"/></a>
        <div class="highlight-outer">
              <div class="highlight-menu">
                <ul>
                  <li><button id="highlight-button-twitter"><img src="img/twitter-bird-dark-bgs.png"/></button></li>
                </ul>
              </div>
            </div>
      </body>
    </html>